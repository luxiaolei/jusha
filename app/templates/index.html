<!DOCTYPE HTML PUBLIC >
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<html>

<head>
  <title>Jusha科技</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <script src="http://d3js.org/d3.v3.min.js"></script>
  <script src="http://techanjs.org/techan.min.js"></script>

  <script src="{{ url_for('static', filename='js/resources/jquery-2.1.4.min.js') }}" type="text/javascript" charset="utf-8"></script>
  <script src="{{url_for('static',filename ='js/featureHandler.js')}}" type="text/javascript" charset="utf-8"></script>
  <script src="{{url_for('static',filename ='js/search.js')}}" type="text/javascript" charset="utf-8"></script>
  <script src="{{url_for('static',filename ='js/resources/jquery-ui.js')}}" type="text/javascript" charset="utf-8"></script>

  <script src="{{url_for('static',filename = 'js/barchart.js')}}" type="text/javascript" charset="utf-8"></script>
  <link href="{{url_for('static',filename = 'css/bar.css')}}" rel="stylesheet" type="text/css">

  <link href="{{url_for('static',filename = 'css/resources/jquery-ui.min.css')}}" rel="stylesheet" type="text/css">
  <link href="{{url_for('static',filename = 'css/resources/jquery-ui.structure.min.css')}}" rel="stylesheet" type="text/css">

  <link href="{{url_for('static',filename = 'css/resources/jquery-ui.theme.min.css')}}" rel="stylesheet" type="text/css">

  <!-- Bootstrap -->
  <link href="{{url_for('static',filename = 'css/bootstrap.min.css')}}" rel="stylesheet" media="screen">
  <link href="{{url_for('static',filename = 'css/layout.css')}}" rel="stylesheet" media="screen">

  <link href="{{url_for('static',filename = 'css/simple-sidebar.css')}}" rel="stylesheet">


</head>

<body>
  <div id='candles'>

  </div>
  <div id='graph'>

  </div>

  <button id=refresharrow >refreshArrow</button>


  <!-- View container -->

  <ul id="draggableTimemachine" class="ui-widget ui-widget-content ui-corner-all portlet" style="position: fixed; top:2%; left:2%; width: 180px; height: auto; ">

    <li class="ui-widget-header">Selecte Explain and Export</li>
    <div>

      <table class="ui-widget" style='color:white; text-align: center; width: 145px; top:50px'>
        <tr>
          <td>
            <span id="sebtnA" class="ui-button" style='color:#f6931f; font-weight:bold; font-size:12'>Select-A</span>

          </td>
          <td>
            <a id="addtempA" value=0 data-selected=[]>None</a>
          </td>
        </tr>
        <tr>
          <td>
            <span id="sebtnB" class="ui-button" style='color:#f6931f; font-weight:bold; font-size:12'>Select-B</span>

          </td>
          <td>
            <a id="addtempB" value=0 data-selected=[]>None</a>
          </td>
        </tr>

        <tr>
          <td>
            <a id="export2csv" download="Selection.csv" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" >
              <span id="export2csvlabel" class="ui-button-text">Export</span>
            </a>
          </td>
          <td>
            <button id="explain" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button">
              <span id="explainlabel" class="ui-button-text">Explain</span>
            </button>
          </td>
        </tr>
      </table>
      <div id='selection' data-tmp="I hold temp selection"></div>

      <div style="max-height: 130px;overflow-y:scroll">
        <table class="ui-widget" style='color:white; text-align: center; width: 145px; top:50px' id='explainFlists'>

        </table>
      </div>





      <input type='text' id='searchbox' title='输入数据的名称或者数字索引，用‘，’分开多条数搜索' style='width: 100px; height:18px; color:#f6931f; font-weight:bold;' />

      <button id="searchsubmit" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button">
        <span class="ui-button-text" id='searchsubmitlabel'>Search</span>
      </button>
    </div>
    <li class="ui-widget-header">Current Parameters</li>
    <div>
      <table class="ui-widget" style='color:white; text-align: center; width: 145px; top:50px' id='currentParams'>
        <tr>
          <td>
            Filter :
          </td>
          <td id='tdfilter'>
            None
          </td>
        </tr>
        <tr>
          <td>
            Interval :
          </td>
          <td id='tdinterval'>
            None
          </td>
        </tr>
        <tr>
          <td>
            Cutoff :
          </td>
          <td id='tdcutoff'>
            None
          </td>
        </tr>
        <tr>
          <td>
            metric :
          </td>
          <td id='tdmetric'>
            None
          </td>
        </tr>
      </table>
    </div>
    <button id="saveimg" title='保存当前结果以便之后快速返回' class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button">
      <span id="saveimglabel" title='保存当前结果以便之后快速返回' class="ui-button-text">Save Result</span>
    </button>
    <div style="max-height: 470px;overflow-y:scroll" id=timemachine>
    </div>
  </ul>

  <!--
  <div id=draggableTimemachine class="ui-widget ui-widget-content ui-corner-all portlet" style="position: fixed; top:2%; left:2%; width: 180px; height: auto; ">

    <h6 tabindex="-1" aria-expanded="false" aria-selected="false" aria-controls="ui-id-4" role="tab" class="ui-accordion-header ui-state-default ui-accordion-icons ui-corner-all">
      </span>Current Parameters</h6>
    <table class="ui-widget" style='color:white; text-align: center; width: 145px; top:50px' id='currentParams'>
      <tr>
        <td>
          Filter :
        </td>
        <td id='tdfilter'>
          None
        </td>
      </tr>
      <tr>
        <td>
          Interval :
        </td>
        <td id='tdinterval'>
          None
        </td>
      </tr>
      <tr>
        <td>
          Cutoff :
        </td>
        <td id='tdcutoff'>
          None
        </td>
      </tr>
      <tr>
        <td>
          metric :
        </td>
        <td id='tdmetric'>
          None
        </td>
      </tr>
    </table>


    <h6 tabindex="-1" aria-expanded="false" aria-selected="false" aria-controls="ui-id-4" role="tab" class="ui-accordion-header ui-state-default ui-accordion-icons ui-corner-all">
      </span>Selecte Explain and Export</h6>
    <li>
      <ul id=SelectionA>
        <a id='NumPtsA'></a>
        <input type="checkbox" id="addA" value=0 data-selected=[]>
        <label for="addA">Select</label>
      </ul>
      <ul id=SelectionB>
        <a id='NumPtsB'></a>
        <input type="checkbox" id="addB" value=0 data-selected=[]>
        <label for="addB">Select</label>

      </ul>
    </li>

    <button id="export2csv" download="Selection.csv" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button">
      <span id="export2csvlabel" class="ui-button-text">Export</span>
    </button>

    <div id='selection' data-tmp="I hold temp selection"></div>

    <button id="explain" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button">
      <span id="explainlabel" class="ui-button-text">Explain</span>
    </button>

    <div style="max-height: 130px;overflow-y:scroll" id="explainFlists"></div>

    <input type='text' id='searchbox' title='输入数据的名称或者数字索引，用‘，’分开多条数搜索' style='width: 100px; height:18px; color:#f6931f; font-weight:bold;' />

    <button id="searchsubmit" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button">
      <span class="ui-button-text" id='searchsubmitlabel'>Search</span>
    </button>

    <h6 tabindex="-1" aria-expanded="false" aria-selected="false" aria-controls="ui-id-4" role="tab" class="ui-accordion-header ui-state-default ui-accordion-icons ui-corner-all">
      </span>Result Timemachine</h6>
    <button id="saveimg" title='保存当前结果以便之后快速返回' class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button">
      <span id="saveimglabel" title='保存当前结果以便之后快速返回' class="ui-button-text">Save Current Result</span>
    </button>


    <div style="max-height: 470px;overflow-y:scroll" id=timemachine>
    </div>

  </div>
-->


  <!-- Controlls draggable Tab container -->
  <div id=controlls role="tablist" class="ui-accordion ui-widget ui-helper-reset ui-widget-content ui-corner-all" style="position: fixed; top:2%; right:2%; width: 220px; height: auto;">
    <div id="accordion">

      <h4>ETL</h4>
      <div>
        <li>
          <form id="upload-file"  method="post" enctype="multipart/form-data">
            <fieldset class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button">
              <input class="ui-widget" name="file" type="file" value="Choose.." class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button">
            </fieldset>
          </form>

          <button id="fileupload" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button">
            <span class="ui-button-text">Upload</span>
          </button>
        </li>
        <hr>
        <select id="index">
          <option value='None' checked=true>使用数字序列</option>
        </select>
        <span class="ui-selectmenu-button ui-widget ui-state-default ui-corner-all" tabindex="0" id="index-button" role="combobox" aria-expanded="false" aria-autocomplete="list" aria-owns="selectmenu-menu" aria-haspopup="true" style="width: 100px;" aria-activedescendant="ui-id-24"
        aria-labelledby="ui-id-24" aria-disabled="false">
        </span>

        <div style="max-height: 300px; width: 300px; overflow-y:scroll" id="featuresCheck">

          <table class="ui-widget" style='width:191px' id='featuresTable'>

          </table>
        </div>



      </div>
      <h4 tabindex="-1" aria-expanded="false" aria-selected="false" aria-controls="ui-id-4" id="ui-id-3" role="tab" class="ui-accordion-header ui-state-default ui-accordion-icons ui-corner-all">
        <span class="ui-accordion-header-icon ui-icon ui-icon-triangle-1-e"></span>Params</h4>
      <div aria-hidden="true" role="tabpanel" aria-labelledby="ui-id-3" id="ui-id-4" style="display: none" class="ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom">


        <div class="theme-group-content corner-bottom clearfix">


          <li class='ui-widget'>
            <a>Interval:
          <input type='text' name='params' id='interval' value='7' maxlength="10"
                title="请输入整数介于1于数据量之间"  style='width: 40px; height:18px; color:#f6931f; font-weight:bold;' />
          </a>
            <a>overlap:
          <input type='text' name='params' id='overlap'
                value='30' maxlength="4" title='请输入0-100之间的数值' style='width: 40px;height:18px; color:#f6931f; font-weight:bold;' />
          </a>
          </li>

          <li>
            <select id='metrics' style='width:78px'>
              <option value="euclidean">Euclidean</option>
              <option value="minkowski">Minkowski</option>
              <option value="cityblock">Cityblock</option>
              <option value="seuclidean">Seuclidean</option>
              <option value="sqeuclidean">Sqeuclidean</option>
              <option value="cosine">Cosine</option>
              <option value="correlation">Correlation</option>
            </select>
            <select id='cutoff' style='width:78px'>
              <option value="scale_graph">Scale Graph</option>
              <option value="first_gap">first_gap</option>
              <option value="biggest_gap">biggest_gap</option>
              <option value="variable_exp_gap">variable_exp_gap</option>
              <option value="variable_exp_gap2">variable_exp_gap2</option>
            </select>
          </li>
          <li id=scalegraph>
            <select id='weighting' style='width:78px'>
              <option value="linear">Linear</option>
              <option value="root">Root</option>
              <option value="inverse">Inverse</option>
              <option value="log">Log</option>
            </select>
            <a id='atag'>Exponent:</a>
            <input type='text' id='exponent' value='1.0' maxlength="10" style='width: 40px;height:18px; color:#f6931f; font-weight:bold;' />
        </div>
        </li>

      </div>

      <h4 tabindex="-1" aria-expanded="false" aria-selected="false" aria-controls="ui-id-4" id="paramsGenerate" role="tab" class="ui-accordion-header ui-state-default ui-accordion-icons ui-corner-all">
        <span class="ui-accordion-header-icon ui-icon ui-icon-triangle-1-e"></span>Drill</h4>
      <div aria-hidden="true" role="tabpanel" aria-labelledby="ui-id-3" id="ui-id-5" style="display: none" class="ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom">


        <li>

          <button id="Clustering" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button">
            <span class="ui-button-text">Clustering</span>
          </button>
          <a>Filter:</a>
          <a id='filters'></a>
        </li>
        <hr>
        <div style="max-height: 300px;overflow-y:scroll" class=options id="radiocheck"></div>
        <a>No. Bins:
            <input type='text' id='bins' value='20' maxlength="10" style='width: 40px; height:18px; color:#f6931f; font-weight:bold;' />
            </a>

        <button id="recolor" title='根据当前勾选特征的数值大小，对结果进行重新着色' class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button">
          <span class="ui-button-text" id='recolorlabel'>ColorIt</span>
        </button>

        <div id='barchart' class='container' style="width:210px; height:180px">

        </div>
      </div>
    </div>
  </div>


  <script>
    $(function() {
      $("[id^=draggable]").each(function() {
        $(this).draggable({});
      })
    });

    var tooltipdoms = [$('#overlap'), $('#interval'), $('#recolor'), $('#saveimglabel'), $('#searchbox')]
    for (dom in tooltipdoms) {
      tooltipdoms[dom].tooltip()
    }



    $('#radiocheck').sortable()
    $('#timemachine').sortable()

    $('#addA').button()
    $('#addB').button()


    $('#index').selectmenu()
    $('#metrics').selectmenu()
    $('#cutoff').selectmenu()
    $('#weighting').selectmenu()

    $(function() {
      $("#draggableTimemachine").menu({
        items: ".ssssjjjjjj"
      })

    });



    $(".portlet")
      .addClass("ui-widget ui-widget-content ui-helper-clearfix ui-corner-all")
      .find(".portlet-header")
      .addClass("ui-widget-header ui-corner-all")
      .prepend("<span class='ui-icon ui-icon-minusthick portlet-toggle'></span>");

    $(".portlet-toggle").click(function() {
      var icon = $(this);
      icon.toggleClass("ui-icon-minusthick ui-icon-plusthick");
      icon.closest(".portlet").find(".portlet-content").toggle();
    });

    $(function() {
      $("#draggableTimemachine").menu({
        items: "> :not(.ui-widget-header)"
      });
    });


    $('#11draggableTimemachine').accordion({
      heightStyle: "content",
      header: 'h6'
    })

    $('button').each(function() {
      $(this).hover(function() {
        $(this).addClass('ui-state-hover')
      })

      $(this).mouseout(function() {
        $(this).removeClass('ui-state-hover')
      })

    })

    $('#controlls').accordion({
      heightStyle: "content",
      header: 'h4'
    }).draggable()
  </script>
  <script src="{{ url_for('static', filename = 'js/candlestick.js') }}" charset="utf-8"></script>
  <script src="{{ url_for('static', filename = 'js/resources/d3.v3.js') }}" charset="utf-8"></script>
  <script src="{{ url_for('static', filename = 'js/force_layout.js') }}" charset="utf-8"></script>
  <script src="{{ url_for('static', filename = 'js/resources/bootstrap.min.js') }}"></script>
  <script src="{{ url_for('static', filename = 'js/params.js') }}"></script>
</body>

</html>
